<template>
  <view class="content-bg">
    <view class="text-p" @click="goNext"> è·³è½¬655 555</view>
    <view class="content-p" @click="syncChange">åŒæ­¥ä¿®æ”¹æ•°æ®</view>
    <view class="content-p" @click="waitChange">å¼‚æ­¥ä¿®æ”¹æ•°æ®</view>

    <view class="content-p">ç¼“å­˜æ•°æ® :{{ user.userInfo }}</view>

    <view class="content-p" @click="queryLookFun">ç‚¹å‡»å‘é€è¯·æ±‚</view>

    <input class="input-l" type="text" placeholder="è¯·è¾“å…¥" />
  </view>
</template>

<script setup lang="ts">
import { queryLook } from '../../api/index';
import { useUserStore } from '@/store/modules/user';
const env = import.meta.env;
console.log('è·å–çš„å½“å‰ç¯å¢ƒå˜é‡', env);

const user = useUserStore();

const goNext = () => {
  uni.navigateTo({
    url: '/pages/next/index',
  });
};

const syncChange = () => {
  user.setUserInfo({
    name: 'liuxiang',
  });
};
const waitChange = async () => {
  await user.setUserInfoForWait({
    name: 'liuxiang2',
  });
  console.log('ğŸ‘´ä¿®æ”¹å®Œæˆ');
};

const queryLookFun = async () => {
  const res = await queryLook({});
  console.log('è·å–è¿”å›æ•°æ®', res);
};
</script>

<style lang="scss" scoped>
.content-bg {
  .text-p {
    font-size: 50rpx;
    font-weight: 500;
    text-align: center;
    width: 100%;
    height: 200rpx;
    line-height: 200rpx;
    margin-top: 200rpx;
    color: $uni-color-primary;
  }

  .content-p {
    font-size: 30rpx;
    text-align: center;
    width: 100%;
    height: 50rpx;
    line-height: 50rpx;
    margin-top: 30rpx;
    color: red;
  }
  .input-l {
    line-height: 70rpx;
    height: 70rpx;
    margin-top: 50rpx;
    border: 1px solid #eee;
    padding-left: 20rpx;
    padding-right: 20rpx;
    margin-left: 5%;
    width: 80%;
  }
}
</style>
